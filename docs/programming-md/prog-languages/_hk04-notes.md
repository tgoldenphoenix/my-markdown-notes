# HK04 notes

## eProject 04

[link chia nhóm](https://docs.google.com/spreadsheets/d/1CnFiUr6hnf77XrO0z8a6g7vTvHKYNq1sGZMIc2okduM/edit?fbclid=IwY2xjawE1-hVleHRuA2FlbQIxMAABHau9-ZrK6pvOgX7vNkioadETBzZA9bUtQDGhDndqzVQn6DwOIyr7CFGZfA_aem_W4oZfIrB6kZdfe9U8zedfw&gid=0#gid=0) vào bằng mail trường

`sinhtp@gmail.com`

[link MEGA](https://mega.nz/folder/e7Yl0TZA#kcm-mZcom5HGFPKqvsaO_Q)\
[Link nộp doc](https://docs.google.com/spreadsheets/d/1CnFiUr6hnf77XrO0z8a6g7vTvHKYNq1sGZMIc2okduM/edit?gid=0#gid=0) (google sheet), [link drive thầy tạo](https://drive.google.com/drive/folders/128-1agC5hLW6I7KmbUzP3KwSDaF3OEpF)

![lich-project.png](/Users/anhao/Documents/assets/lich-project.png)

## note afterward

Chiều 8/3/2025 quốc tế phụ nữ. Theo lịch là 13:30 chiều mới bắt đầu bảo vệ trước hội đồng nhưng tôi lên trường từ 6:45 sáng để đi bộ, còn mấy anh chị khoảng 9h là vô hết rồi. Chúng tôi ở trong trường đến 6:30 chiều mới bảo vệ đồ án xong chạy xe về. Qua môn đồ án. Học 2 năm tôi không nợ, không thi lại môn nào. Giờ nghĩ lại hơi bất ngờ vì tôi không phải ham học lắm, thích tự học ba cái khác bên ngoài hơn. Có 2-3 đứa bị nợ môn phải học lại nên tính ra mình cũng hay. Ba anh em mua tặng chị thảo bó hoa quốc tế phụ nữ.

Nhóm tui ngoài tui có 4 người: thị Thảo 9x dễ thương ở Quận 7, chiến thần front-end React. Anh Lượng nhóm trưởng giỏi gánh team back-end Spring Boot với Flutter. Trường Giang với anh Doanh vui tính dễ chịu. Vì chị thảo ăn chay trường, và tuần này nhóm tui hẹn nhau lên trường làm đồ án nên hầu như trưa mấy anh em phải đi kiếm quán đồ ăn chay gần trường cho chị Thảo ăn.

Cùng ngày 22h ngày 7/3 con trai cậu tư chào đời.

Buổi sáng đi bộ ra công viên 30/4 gặp ông chú Lương Chanh thật bất ngờ và trùng hợp. Sắp kỷ niệm 50 năm ngày 30/4/75 nên thành phố sắp có chương trình bắn pháo hoa.

Hôm này về phòng hơi khuya, sáng này tôi có ăn sáng, trưa không ăn, chiều tối về có đi bộ ra quán gần nhà ăn. Xong xuôi tôi ngồi viết máy dòng này. Thời gian học ở FPT Aptech 2 năm của tôi đã xong. Sau này sẽ ít lên trường lại.

## Các thành viên nhóm

Mã số lớp T1.2303.M0

Đầu tiên là nhóm làm đồ án của tôi. Tính cả tôi là 5 người:

1. Anh Lượng khoảng 31 tuổi, đang làm kỹ thuật viên tòa nhà Hải Âu building của Hải Âu helicopter trên đường Trường Sơn dẫn vào Tân Sơn Nhất. Quê Ninh Bình. Anh này giỏi và siêng.
2. Chị Thảo 9x (hỏi thì chị nói sinh năm 96), code front-end giỏi, ăn chay trường
3. Anh Doanh chắc cũng khoảng 26t gì đó, đã làm qua đủ nghề từ trong siêu thị cho tới nhân viên công ty bất động sản. Anh này cũng siêng lắm.
4. Trường giang sinh năm 99, quê tây ninh. Học đại học nghỉ giữa chừng qua Nhật vừa học vừa làm một thời gian rồi về nước (bị phát hiện làm 2 job cùng lúc trái luật cho du học sinh) rồi vào chỗ FPT Aptech này học. Ông này học cũng không giỏi lắm nhưng cũng là người tốt.

Sau đây là những người còn lại:

1. Anh Minh Lê là một người con của [đảo Phú Quý](https://maps.app.goo.gl/YLE6pCaRHEptvWqMA), học giỏi, hồi làm đồ án kỳ 3 gánh team của tui.
2. Anh Dương Đặng dân SG gốc ngoài bắc hồi đó học đại học Hoa Sen. Anh này là người học lập trình đi làm khá nghiêm túc, hay ngồi cafe căn tin kể mấy kinh nghiệm phỏng vấn này nọ cho tụi tui nghe.
3. Anh Trường quê Tiền Giang hồi đó có đi làm bên nhật.
4. Anh Linh hồi đó có đi làm bên Đài Loan 5 năm.
5. Anh Hậu quê Ninh Bình, gần như bữa nào học cũng đem một bịch bánh kẹo vô ăn, tui hay xin anh này bịch bánh ăn chơi.
6. Chị Sương

Tôi có lên giảng đường đại học một thời gian nhưng thật sự không có nhiều ấn tượng với những người bạn học ở đó. Còn những anh chị học chung lớp 1 năm nay mà tôi kể ở trên thì tôi thấy đủ ấn tượng để ngồi viết vài dòng lưu lại.

Lớp tôi chưa đến 30 người nhưng tôi thấy mỗi người đều khá đặc biệt, có hoàn cảnh riêng.

## Technologies

Hệ thống Back-end sử dụng Spring Boot, Database PostgreSQL, lưu trữ media trên Cloudinary, authentication bằng Firebase, thanh toán bằng PayPal.

motion detection, open CV (computer vision)
tensor flow, machine learning

Phone authentication with firebase

Goong Map (tương tự Google Maps)

java jersey for building RESTful web services

## VNPay

[tích hợp code doc](https://sandbox.vnpayment.vn/apis/docs/gioi-thieu/)

`https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=1806000&vnp_Command=pay&vnp_CreateDate=20210801153333&vnp_CurrCode=VND&vnp_IpAddr=127.0.0.1&vnp_Locale=vn&vnp_OrderInfo=Thanh+toan+don+hang+%3A5&vnp_OrderType=other&vnp_ReturnUrl=https%3A%2F%2Fdomainmerchant.vn%2FReturnUrl&vnp_TmnCode=DEMOV210&vnp_TxnRef=5&vnp_Version=2.1.0&vnp_SecureHash=3e0d61a0c0534b2e36680b3f7277743e8784cc4e1d68fa7d276e79c23be7d6318d338b477910a27992f5057bb1582bd44bd82ae8009ffaf6d141219218625c42`

mywebsite:`websitegroup04.com`:Anhao123

### References

[tuấn ori](https://www.youtube.com/watch?v=7aKf4XpQfIg) video ngắn dễ hiểu

[HIENLTH Channel video youtube](https://www.youtube.com/watch?v=GEnt7jmIUiI) dài hơn, chi tiết hơn, nhưng viết .NET C#

[blog phạm anh đức](https://phamanhduc.com/tich-hop-vnpay-vao-ung-dung-spring-boot/#Code_mau) spring boot, có code mẫu

[mail chứa thông tin tích hợp](https://mail.google.com/mail/u/0/#inbox/FMfcgzQXKWfCpMMqqLmNtMjHlgcKXklc)

### Config

`vnp_TmnCode` mã định danh merchant

Url thanh toán môi trường TEST (`vnp_Url`): `https://sandbox.vnpayment.vn/paymentv2/vpcpay.html`

đầu tiên tạo url thanh toán bằng cách gắn các parameter vào `vnp_Url` rồi gởi đến VNPay

## Web socket - chatbox - Send message

**TODO:** Websocket push messages

mongo express: admin:pass

Nhớ add dependency web socket khi tạo spring project

Front-end cài package `npm`: [sockjs-client](https://www.npmjs.com/package/sockjs-client), [stomp/stompjs](https://www.npmjs.com/package/@stomp/stompjs) (ko cài stompjs)

[Any strong reason not to use WebSocket for everything?](https://www.reddit.com/r/webdev/comments/x11ap8/any_strong_reason_not_to_use_websocket_for/) and not use HTTP request anymore.

`\app` là để làm business logic such as: adding user to DB, add message to DB. Liên quan tới controller.\
`\topic` hay `\queue` là để send message, client sẽ subscribe vào những url này.

RabbitMQ is an open-source message-broker software. "MQ" means "message queue".

[Jackson](https://github.com/FasterXML/jackson) has been known as "the Java JSON library" or "the best JSON parser for Java". Or simply as "JSON for Java".

STOMP is a subprotocol operating on top of the lower-level WebSocket. In Spring’s approach to working with STOMP messaging, STOMP messages can be routed to `@Controller` classes.\
stomp có client & server

**References**

[Bouali Ali video](https://www.youtube.com/watch?v=TywlS9iAZCM) có so sánh HTTP connection vs websocket connection.\
client dùng sockJs
[bouali one to one](https://www.youtube.com/watch?v=7T-HnTE6v64&t=5597s)

[bài blog của Viblo](https://viblo.asia/p/tao-ung-dung-chat-don-gian-voi-spring-boot-va-websocket-naQZR1DjKvx) tiếng việt, khá giống video của Bouli. Nó copy google dịch từ [bài này của calicoder](https://www.callicoder.com/spring-boot-websocket-chat-example/)

[This blog tutorial on spring.io](https://spring.io/guides/gs/messaging-stomp-websocket) by Craig Walls giải thích các annotations, WebSocketConfig rất chi tiết\
client dùng stompJs

[STOMP Over WebSocket](https://jmesnil.net/stomp-websocket/doc/) blog post by jmesnil

[youtube seri](https://www.youtube.com/watch?v=XY5CUuE6VOk&list=PLXy8DQl3058PNFvxOgb5k52Det1DGLWBW) by Lilium code, có minh họa dùng `SimpMessagingTemplate`

[how to use jQuery in react](https://stackoverflow.com/questions/38518278/how-to-use-jquery-with-reactjs)

[how to use script tag in React](https://stackoverflow.com/questions/34424845/adding-script-tag-to-react-jsx)

[react chat real time video](https://www.youtube.com/watch?v=o_IjEDAuo8Y) by **InvolveInInnovation** giải thích mapping, topic rất hay

[websocket react tutorial](https://www.youtube.com/watch?v=ODGuq0XqG9A&t=523s) by IT gift, có 12 minutes thôi

[blog post](https://lejdiprifti.com/2023/10/15/configuring-websocket-in-spring-boot-and-react/) by Lejdi Prifti

**Docs**

[sockjs official doc](https://www.npmjs.com/package/sockjs-client)

[stomp client guide](https://stomp-js.github.io/guide/stompjs/using-stompjs-v5.html)

[stomp api doc](https://stomp-js.github.io/api-docs/latest/classes/Client.html)

[STOMP protocol official doc](https://stomp.github.io/index.html)
[stomp doc](https://docs.spring.io/spring-framework/reference/web/websocket/stomp/overview.html) on spring\.io

## Terms

SIT – System Integration Testing: kịch bản test case

sandbox: môi trường kiểm thử

[Instant payment notification](https://en.wikipedia.org/wiki/Instant_payment_notification) (**IPN**) is a method for online retailers to automatically track purchases and other server-to-server communication in real time.

[Simple (or Streaming) Text Oriented Message Protocol](https://en.wikipedia.org/wiki/Streaming_Text_Oriented_Messaging_Protocol) (**STOMP**), formerly known as TTMP, is a simple text-based protocol, designed for working with message-oriented middleware (MOM).

## Documentation

A web application designed to help humans manage a rental building can promote streamlining operations, improving efficiency, and enhancing tenant satisfaction. By reducing manual effort and minimizing errors, such an application not only saves time and costs but also ensures a more organized and professional approach to property management.

The application must have the following features: tracking rent payments, handling maintenance requests, communicating with tenants, providing real-time access to critical information, automating reminders for due payments, and managing lease contracts.

**Reference:**

[how jwt work with sequence diagram](https://dekh.medium.com/the-complete-guide-to-json-web-tokens-jwt-and-token-based-authentication-32501cb5125c)

## flowchart

Tóm tắt các luồn xử lý & role

1. Luồn kiểm tra định kỳ (item check):

- kỹ thuật viên (technician) đi kiểm tra thiết bị. Kỹ thuật viên sẽ phải kiểm tra hằng ngày, hàng tuần, hàng tháng tùy theo yêu cầu riêng của từng loại thiết bị.
- Khi kiểm tra thiết bị, kỹ thuật viên phải đi tới nơi trực tiếp để kiểm tra rồi sau đó xác nhận bằng cách quét mã QR riêng của thiết bị đó. Mỗi thiết bị trong tòa nhà sẽ có một mã QR riêng biệt.
- Trưởng bộ phận kỹ thuật (manager technician) và giám đốc được quyền xem các checklist của Kỹ thuật viên.
- mục đích: kiểm tra thiết bị và kiểm tra việc làm của kỹ thuật

2. luồn hợp đồng:

- Customer gởi info cho Customer Employee. CE send mail with the contract to customer -> khách duyệt -> in hợp đồng, ký trên giấy (báo cho chủ tòa nhà).
  Customer manager có thể theo dõi
- hợp đồng hết hạn, Hd chưa đóng tiền, chậm đóng tiền
- theo dõi ngày sinh nhật của khách hàng
- Theo dõi giấy tờ, hồ sơ của khách hàng. Nhắc nhở khách hoàn thành hồ sơ.

3. chăm sóc khách hàng

- Luồn khác hàng gởi yêu cầu sửa chửa, Nhắn tin trao đổi. Khách gởi yêu cầu đến admin và kỹ thuật. Admin có trách nhiệm kiểm tra xác nhận của kỹ thuật đã sửa chửa hay chưa. Kỹ thuật nhận tin nhắn và lên văn phòng sửa chửa và kiểm tra.
- Yêu cầu, đăng ký thi công của khách hàng. Gởi đến manager technician, duyệt yêu cầu và gởi yêu cầu lại cho khách hàng có cho phép thi công hay không.
- Khách hàng được xem hợp đồng, xem chỉ số điện hàng tháng.

4. Employee technician

- Hàng ngày đi checklist
- Ghi số điện hàng tháng -> gởi cho customer xác nhận -> sau khi customer xác nhận thì chuyển tới admin kiểm tra xác nhận khách hàng đồng ý hay không. Nếu đồng ý thì xuất bill thanh toán. Ko đồng ý thì gởi lại cho bộ phận kỹ thuật kiểm tra.
- Kỹ thuật được đọc đánh giá của sub-contract, nếu đánh giá điểm số thấp thì đưa ra đề xuất sữa chửa (dựa trên điểm số). Phải đưa ra được báo giá sửa chửa của thiết bị.
- Nếu thiết bị được đánh giá sai so với hiện trạng thì kỹ thuật hạ sao đánh giá của sub-contract.
- Thiệt bị hỏng hóc bất thường -> kỹ thuật được đề xuất kèm báo giá tới cho manager technician (trưởng ban kỹ thuật) phê duyệt -> Sao khi được phê duyệt thì tạo thiết bị mới.

5. Trưởng bộ phận Kỹ thuật

- nhận, đọc, phê duyệt thông báo từ customer về kỹ thuật viên. Và yêu cầu sửa chữa báo giá từ phía kỹ thuật.

6. Giám đốc tòa nhà

- đọc tất cả những gì muốn đọc.

## Tiếng anh

1. Thảo: login all role, technician manager

2. Lượng: scan QR on app, nhập chi tiết thiết bị

3. Doanh:

4. Hào

5. Giang

6. Device inspection process

- Technician is responsible to inspect devices in the building. Technician must perform inspection daily, weekly or monthly depending on the requirement of each device.
- When inspecting the device, technician must come in-person to make sure that the device is working properly. After that, technician must report his work to the management system by scanning the QR, which is unique for each device in the building. If the device is malfunctioned, technician can file report for repairment to the management system.
- Technician manager is responsible of assigning inspection tasks for technician and make sure they do their job right. If there is any request for repair, technician manager must report to the building owner for any inccured cost.

  2. Signing contract and create new account for tenant process

- Customer who want to buy/rent office will send their requested information to the Customer Manager (CM). The CM will then send an email containing a contract with information already filled-in, terms and condition as well as payment for the customer to read. If the customer agree, CM will print out a contract ready to be signed for both parties which are the customer and the building owner.
  Tenant Manager can monitor:
- Contract expiration date, status of payment
- Customer information such as: Date of birth, job title
- Legal documents provided by the customer. CM can send request for customer to provide nescessary documents.

  3. Customer Service Process

- Customer send a request to repair a malfunctioned device in their office to Technician manager.
- Customer send a request to install a new device in their office or modify the structure of the office to the Technician manager.
- Customer can view their contract terms & conditions, their payment status and other fee of their office such as: electricity, water, parking fee, service fee, security fee, etc...

4. Technician

- Carry out their duties of inspection and maintainence device in the building daily, weekly and monthly.
- Record electric index and send the number for customer to confirm. If customer confirm, technician manager will send the bill to tenant.
- Technician must read and check reports of sub-contractor and rate them based on a few criterias. If a sub-contractor has low points, the technician manager can suggest the building owner to find a new contractor.
- Nếu thiết bị được đánh giá sai so với hiện trạng thì kỹ thuật hạ sao đánh giá của sub-contract.

5. Technician manager

- nhận, đọc, phê duyệt thông báo từ customer về kỹ thuật viên. Và yêu cầu sửa chữa báo giá từ phía kỹ thuật.

6. Giám đốc tòa nhà

- đọc tất cả những gì muốn đọc.

## Note Wed 26/02/2025

## Phỏng vấn cho Haruko

1. Nhóm làm ứng dụng quản một tòa nhà có dịch vụ cho thuê văn trên hai nền tảng webite và mobile. Bao gồm các chức năng chính như quản lý hợp đồng, quản lý trang thiết bị trong tòa nhà, quản lý chấm công kỹ thuật viên của tòa nhà, vv...
2. Đây là một đề tài khá mới nên nhóm không tìm thấy ứng dụng tương tự trên Internet để tham khảo và phải tự đưa ra ý tưởng phát triển ứng dụng.
3. Kiến thức từ những môn học trong chương trình cùng với sự hỗ trợ từ những giáo viên của trường.
4. Lịch học tập linh hoạt, phù hợp với nhiều đối tượng. Cơ sở vật chất phòng học hiện đại, có máy lạnh, bãi giữ xe không quá đông, có khu học tập chung. Phòng tổ chức sinh viên nhiệt tình, nhanh chóng tư vấn cho các bạn.
5. Ấn tượng với môn học lập trình ứng dụng Java doanh nghiệp (Java EE, spring boot) ở học kỳ 4. Được tiếp xúc với những kiến thức thực tế mà doanh nghiệp đòi hỏi.
6. Tiến bộ trong kỹ năng giải quyết vấn đề và làm việc nhóm.
7. Lời khuyên cho các bạn: (1) nên tự tin vào bản thân, chủ động học hỏi (2) tập thói quen sử dụng tiếng anh.
